<!DOCTYPE html>
<html><head>
	<meta http-equiv='X-UA-Compatible' content='IE=edge' />
	<meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/>
	<title>ellipise</title>

	<script id='sap-ui-bootstrap' type='text/javascript'
		src='https://sapui5.netweaver.ondemand.com/resources/sap-ui-core.js'
		data-sap-ui-theme='sap_bluecrystal'
		data-sap-ui-libs='sap.ui.commons'></script>

   
  
	
<style id="jsbin-css">
.sap-dennisseah-sliderwithcoloredbar {
  height: 40px !important;

  
}
.sap-dennisseah-sliderwithcoloredbar .sapUiSliR {
  padding-top: 20px
}

.sap-dennisseah-sliderwithcoloredbar .bar {
  border: 1px solid #999;
  height: 20px;
  margin-left: 2px;
  margin-right: 5px;   
}

.sap-dennisseah-sliderwithcoloredbar .indicator {
  height: 100%;
}

.sap-dennisseah-sliderwithcoloredbar .low {
  background-color: #0F0;
}

.sap-dennisseah-sliderwithcoloredbar .medium {
  background-color: #FF0;
}

.sap-dennisseah-sliderwithcoloredbar .high {
  background-color: #F00;
}
</style>
</head>
<body class='sapUiBody'>
	<div id='content'></div>
<script id="jsbin-javascript">
jQuery(function() {
  sap.ui.commons.Slider.extend('sap.dennisseah.SliderWithColoredBar', {
    init: function() {
      this.addStyleClass('sap-dennisseah-sliderwithcoloredbar');
    },
    
    renderer : function(oRm, oControl) {
      oControl.setMin(0);
      oControl.setMax(100);
      
      sap.ui.commons.SliderRenderer.render(oRm, oControl);
    },
    
    updateBar : function() {
      var bar = $('#' + this.getId() + '_bar');
      var width = bar[0].getBoundingClientRect().width;
      var iwidth = (this.getValue()/100) * width;
      var val = this.getValue();

      var indicator = $('#' + this.getId() + '_indicator');
      indicator.removeClass('low');
      indicator.removeClass('medium');
      indicator.removeClass('high');
      indicator.css('width', iwidth + 'px');
      
      if (val <= 50) {
        indicator.addClass('low');
      } else if (val <= 80) {
        indicator.addClass('medium');
      } else {
        indicator.addClass('high');
      }
    },
    
    fireChange : function() {
      sap.ui.commons.Slider.prototype.fireChange.apply(this, arguments);
      this.updateBar();
    },
    
    onAfterRendering : function() {
 sap.ui.commons.Slider.prototype.onAfterRendering.apply(this, arguments);
      var bar = $('<div id="' + this.getId() + '_bar"></div>');
      bar.addClass('bar');
      
      this.$().prepend(bar);
      var indicator = $('<div id="' + this.getId() + '_indicator"></div>');
      indicator.addClass('indicator');
      indicator.css('width', '0px');
      bar.append(indicator);
      this.updateBar();
    }
    
  });

  
  
  
  var slider = new sap.dennisseah.SliderWithColoredBar({
	width: '300px',
	value: 70,
	totalUnits: 5,
	smallStepWidth: 5,
	stepLabels : true
  });

  
  slider.placeAt("content");
});
</script>


<script id="jsbin-source-css" type="text/css">.sap-dennisseah-sliderwithcoloredbar {
  height: 40px !important;

  
}
.sap-dennisseah-sliderwithcoloredbar .sapUiSliR {
  padding-top: 20px
}

.sap-dennisseah-sliderwithcoloredbar .bar {
  border: 1px solid #999;
  height: 20px;
  margin-left: 2px;
  margin-right: 5px;   
}

.sap-dennisseah-sliderwithcoloredbar .indicator {
  height: 100%;
}

.sap-dennisseah-sliderwithcoloredbar .low {
  background-color: #0F0;
}

.sap-dennisseah-sliderwithcoloredbar .medium {
  background-color: #FF0;
}

.sap-dennisseah-sliderwithcoloredbar .high {
  background-color: #F00;
}

</script>

<script id="jsbin-source-javascript" type="text/javascript">jQuery(function() {
  sap.ui.commons.Slider.extend('sap.dennisseah.SliderWithColoredBar', {
    init: function() {
      this.addStyleClass('sap-dennisseah-sliderwithcoloredbar');
    },
    
    renderer : function(oRm, oControl) {
      oControl.setMin(0);
      oControl.setMax(100);
      
      sap.ui.commons.SliderRenderer.render(oRm, oControl);
    },
    
    updateBar : function() {
      var bar = $('#' + this.getId() + '_bar');
      var width = bar[0].getBoundingClientRect().width;
      var iwidth = (this.getValue()/100) * width;
      var val = this.getValue();

      var indicator = $('#' + this.getId() + '_indicator');
      indicator.removeClass('low');
      indicator.removeClass('medium');
      indicator.removeClass('high');
      indicator.css('width', iwidth + 'px');
      
      if (val <= 50) {
        indicator.addClass('low');
      } else if (val <= 80) {
        indicator.addClass('medium');
      } else {
        indicator.addClass('high');
      }
    },
    
    fireChange : function() {
      sap.ui.commons.Slider.prototype.fireChange.apply(this, arguments);
      this.updateBar();
    },
    
    onAfterRendering : function() {
 sap.ui.commons.Slider.prototype.onAfterRendering.apply(this, arguments);
      var bar = $('<div id="' + this.getId() + '_bar"></div>');
      bar.addClass('bar');
      
      this.$().prepend(bar);
      var indicator = $('<div id="' + this.getId() + '_indicator"></div>');
      indicator.addClass('indicator');
      indicator.css('width', '0px');
      bar.append(indicator);
      this.updateBar();
    }
    
  });

  
  
  
  var slider = new sap.dennisseah.SliderWithColoredBar({
	width: '300px',
	value: 70,
	totalUnits: 5,
	smallStepWidth: 5,
	stepLabels : true
  });

  
  slider.placeAt("content");
});</script></body>
</html>